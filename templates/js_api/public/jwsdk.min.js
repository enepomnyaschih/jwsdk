/*!
    jWidget SDK dynamic loader.
    
    Copyright (C) 2013 Egor Nepomnyaschih
    
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.
    
    You should have received a copy of the GNU Lesser General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
var JWSDK=(function(){var g={},m={},e=[],d=false,b=0,k=1,a=2,c=3;function j(n){return g[n]=g[n]||{name:n,status:b}}function l(q,r,o){var n=false;document.getElementsByTagName("body")[0].appendChild(q);function s(){n=true;r()}function p(){n=true;o()}q.onreadystatechange=function(){if(n){return}if(this.readyState!=="complete"&&this.readyState!=="loaded"){return}s()};q.onload=s;q.onerror=p}function f(o,q,n){var p=document.createElement("link");p.rel="stylesheet";p.type="text/css";p.href=o;l(p,q,n)}function i(o,q,n){var p=document.createElement("script");p.charset="utf-8";p.type="text/javascript";p.src=o;l(p,q,n)}function h(){if(!e.length||d){return}var r=e[0];d=true;e.shift();var q=r[0],o=r[1],t=r[2],n=r[3];function s(){t();d=false;h()}function p(){n();d=false;h()}q(o,s,p)}return{packageHeader:function(o){var t=j(o.name);if(t.status===c){throw new Error('Package "'+o.name+'" is loaded twice')}t.status=c;var v=o.requires||[];for(var q=0,p=v.length;q<p;++q){j(v[q]).status=c}var s=o.loaders||[];for(var q=0,p=s.length;q<p;++q){var u=s[q],r=j(u.name);if(r.loadInfo){continue}r.loadInfo={requires:u.requires,js:u.js,css:u.css}}var n=o.timestamps||{};for(var q in n){m[q]=n[q]}},loadPackage:function(n,A,x,B){var u=false;var z=function(){var D=u?x:A;if(D){D.apply(B||this,arguments)}};var y=j(n);if(y.status===k){throw new Error('Dependency loop detected while loading "'+n+'" package')}if(y.status===a){y.callbacks.push(z);return}if(y.status===c){setTimeout(z,1);return}var q=y.loadInfo;if(!q){throw new Error('Package "'+n+'" does not have loading info. Add it to "loaders" list of dependent package configuration')}y.status=k;var C=q.requires||[];for(var r=0,p=C.length;r<p;++r){JWSDK.loadPackage(C[r])}y.status=a;y.callbacks=[];y.callbacks.push(z);var s=q.css||[];var o=q.js||[];var t=s.length+o.length;function w(){if(--t){return}var F=y.callbacks.concat();for(var E=0,D=F.length;E<D;++E){F[E]()}}function v(){u=true;w()}for(var r=0,p=s.length;r<p;++r){e.push([f,s[r],w,v])}for(var r=0,p=o.length;r<p;++r){e.push([i,o[r],w,v])}h()},getTimestamp:function(n){return m[n]}}})();